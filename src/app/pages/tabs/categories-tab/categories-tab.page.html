<app-header title="Noticias" [menus]="categories" (menuChangesEv)="onCategoryChanged($event)"></app-header>

<ion-content class="u-padding">
  <app-new-skeleton *ngIf="firstLoading"></app-new-skeleton>
  <app-alert *ngIf="error" [message]="'Ha ocurrido un error cargando las noticias.'" [attributes]=""></app-alert>
  <ng-container *ngTemplateOutlet="!firstLoading && !error && articlesTmpl"></ng-container>
  <ion-infinite-scroll threshold="25%" [disabled]="false" position="bottom" (ionInfinite)="onLoadNextHeadlines($event)">
    <ion-infinite-scroll-content firstLoadingSpinner="bubbles" firstLoadingText="Cargando mÃ¡s noticias...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>

<ng-template #articlesTmpl>
  <app-alert *ngIf="!articles?.length" [message]="'No hay noticias.'" [attributes]=""></app-alert>
  <app-articles [articles]="articles" (toggleFavoriteEv)="onToggleFavorite($event)"></app-articles>
</ng-template>